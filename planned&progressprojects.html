<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="logo">
    <span class="icon">âš¡</span>
    DREWCREW
</div>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="planned&progressprojects.html" style="color:#4ea8ff">Projects</a></li>
            <li><a href="sql.html">SQL</a></li>
            <li><a href="contact.html">Contact Us</a></li>
        </ul>
    </header>
<h2>Planned Projects (JSON)</h2>
     <table>
        <thead>
            <tr>
                <th>Project ID</th>
                <th>Project Name</th>
                <th>Project Status</th>
                <th>Budget</th>
                <th>Winning Bidder</th>
                <th>Project HQ</th>
            </tr>
        </thead>
        <tbody id="planned-table">
            <!-- work this time or else!!!!!FF!*IJHK!!!!!!!! -->
        </tbody>
    </table>

    <h2>In-Progress Projects (XML)</h2>
    <table id="inprogress-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Status</th>
                <th>Budget</th>
                <th>Winning Bidder</th>
                <th>Project HQ</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <!-- Inline JavaScript -->
    <script>
// Fetch data from a mock API

    fetch('https://jay-iii.github.io/COMP1020/data-Planned.json')
        .then(response => response.json())
        .then(data => {
            const tableBody = document.getElementById('planned-table');

            // Access the projects array
            data.projects.forEach(project => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${project.project_id}</td>
                    <td>${project.project_name}</td>
                    <td>${project.project_status}</td>
                    <td>${project.budget}</td>
                    <td>${project.winning_bidder}</td>
                    <td>${project.project_hq}</td>
                `;
                tableBody.appendChild(row);
            });
        })
        .catch(error => console.error('Error fetching data:', error));

        // Helper for XML
        const getXMLText = (parent, tag) => {
            const el = parent.getElementsByTagName(tag)[0];
            return el ? el.textContent : '';
        };

        // --- Fetch XML (In-Progress Projects) ---
        fetch('https://jay-iii.github.io/COMP1020/data-In-Progress.xml')
            .then(res => res.text())
            .then(str => new window.DOMParser().parseFromString(str, "text/xml"))
            .then(xml => {
                const tableBody = document.querySelector('#inprogress-table tbody');
                const projects = xml.getElementsByTagName('Project');

                Array.from(projects).forEach(project => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${getXMLText(project, 'project_id')}</td>
                        <td>${getXMLText(project, 'project_name')}</td>
                        <td>${getXMLText(project, 'project_status')}</td>
                        <td>${getXMLText(project, 'budget')}</td>
                        <td>${getXMLText(project, 'winning_bidder')}</td>
                        <td>${getXMLText(project, 'project_hq')}</td>
                    `;
                    tableBody.appendChild(row);
                });
            })
            .catch(err => console.error('Error fetching In-Progress Projects:', err));
    </script>
</body>
</html>


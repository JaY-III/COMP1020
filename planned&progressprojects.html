<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="logo">
    <span class="icon">âš¡</span>
    DREWCREW
</div>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="planned&progressprojects.html" style="color:#4ea8ff">Projects</a></li>
            <li><a href="sql.html">SQL</a></li>
            <li><a href="contact.html">Contact Us</a></li>
        </ul>
    </header>
<h1>Infrastructure Projects Overview</h1>
    <h3>This page shows all planned and in-progress infrastructure projects with their details.</h3>

    <!-- Planned Projects Table -->
    <h2>Planned Projects</h2>
    <table id="planned-table">
        <thead>
            <tr>
                <th>Project ID</th>
                <th>Project Name</th>
                <th>Project Status</th>
                <th>Budget</th>
                <th>Winning Bidder</th>
                <th>Project HQ</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <!-- In-Progress Projects Table -->
    <h2>In-Progress Projects</h2>
    <table id="inprogress-table">
        <thead>
            <tr>
                <th>Project ID</th>
                <th>Project Name</th>
                <th>Project Status</th>
                <th>Budget</th>
                <th>Winning Bidder</th>
                <th>Project HQ</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <!-- Inline JavaScript -->
    <script>
        // --- Planned Projects  ---
        const getJSONValue = (obj, key) => obj[key] !== undefined ? obj[key] : '';

       fetch('https://raw.githubusercontent.com/JaY-III/COMP1020/main/data-Planned.json')
            .then(res => res.json())
            .then(data => {
                const tableBody = document.querySelector('#planned-table tbody');
                data.forEach(project => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${getJSONValue(project, 'id')}</td>
                        <td>${getJSONValue(project, 'name')}</td>
                        <td>${getJSONValue(project, 'status')}</td>
                        <td>${getJSONValue(project, 'budget')}</td>
                        <td>${getJSONValue(project, 'winningBidder')}</td>
                        <td>${getJSONValue(project, 'projectHQ')}</td>
                    `;
                    tableBody.appendChild(row);
                });
            })
            .catch(err => console.error('Error fetching Planned Projects:', err));

        // --- In-Progress Projects ---
        const getXMLText = (parent, tag) => {
            const el = parent.getElementsByTagName(tag)[0];
            return el ? el.textContent : '';
        };

        fetch('https://raw.githubusercontent.com/JaY-III/COMP1020/main/data-In-Progress.xml')
            .then(res => res.text())
            .then(str => new window.DOMParser().parseFromString(str, "text/xml"))
            .then(xml => {
                const tableBody = document.querySelector('#inprogress-table tbody');
                const projects = xml.getElementsByTagName('Project');

                Array.from(projects).forEach(project => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${getXMLText(project, 'project_id')}</td>
                        <td>${getXMLText(project, 'project_name')}</td>
                        <td>${getXMLText(project, 'project_status')}</td>
                        <td>${getXMLText(project, 'budget')}</td>
                        <td>${getXMLText(project, 'winning_bidder')}</td>
                        <td>${getXMLText(project, 'project_hq')}</td>
                    `;
                    tableBody.appendChild(row);
                });
            })
            .catch(err => console.error('Error fetching In-Progress Projects:', err));
    </script>


</body>
</html>



